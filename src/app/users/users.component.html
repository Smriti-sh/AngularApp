<button class="btn btn-dark  mb-3" (click)="showUserForm=!showUserForm">Add User</button>
<div *ngIf="showUserForm">
    <h2>Add User</h2>
    <form (submit)="onSubmit($event)">
        <div class="form-group">
            <label>First Name :</label>
            <input [(ngModel)]="user.firstname" type="text" class="form-control" name="firstName">
        </div>
        <div class="form-group">
            <label>Last Name :</label>
            <input [(ngModel)]="user.lastName" type="text" class="form-control" name="lasstName">
        </div>
        <div class="form-group">
            <label>Age :</label>
            <input [(ngModel)]="user.age" type="number" class="form-control" name="age">
        </div>
        <!-- <div class="form-group">
            <label>Street Address :</label>
            <input [(ngModel)]="user.address.street" type="text" class="form-control" name="street">
        </div>
        <div class="form-group">
            <label>City :</label>
            <input [(ngModel)]="user.address.city" type="text" class="form-control" name="city">
        </div>
        <div class="form-group">
            <label>State :</label>
            <input [(ngModel)]="user.address.state" type="text" class="form-control" name="state">
        </div> -->
        <button (click)="addUser()" class="btn btn-block mt-4 mb-4" [disabled]="user.firstname == ''|| user.lastName == ''" >Add New User</button>
    </form>
</div>

<h2>Users</h2>
<!-- [] is the property of the DOM element or component you want to bind to. -->


<!-- defining a template for if this is false called as noUsers -->
<!-- <ul *ngIf="users.length >0;else noUsers"> -->

<ul class="list-unstyled" *ngIf="loaded && users?.length">
    <li class="card card-body mb-3" *ngFor=" let user of users " [class.bg-light]="user.isActive">


                <h3>{{user.firstname}} {{user.lastName}} <small *ngIf="user.age && user.address"><button class="btn btn-dark btn-sm" (click)="toggleHide(user)"><i [ngClass]="user.hide ? 'fa fa-plus' : 'fa fa-minus'" class="fa fa-plus"></i></button></small> </h3>

                <ul class="list-group" *ngIf="!user.hide && user.age && user.address">
                    <li class="list-group-item">Age: {{user.age}}</li>
                    <li class="list-group-item">Address: {{user.address.street}}{{user.address.city}}, {{user.address.state}}</li>
                    <li class="list-group-item">Joined on: {{user.registered | date :"fullDate"}}</li>

                </ul>
    </li>
</ul> 
<h4 *ngIf="users?.length==0">No Users Found.</h4>
<!-- can add some spinners -->
<h4 *ngIf="!loaded">Loading Users...</h4>